<button id='cta'>CTA</button>
<video preload="metadata" id="video" class="video" type="video/mp4"
    src="https://staging.wrkble.com/api/courses/7eb709ad-a68d-47e0-b28a-3b936c7dc10c/chapters/240ce029-936b-4184-9a4c-f235dc1368d7"
    autoplay playsinline webkit-playsinline loop muted controls></video>

<video preload="metadata"
    src="https://upload.wikimedia.org/wikipedia/commons/transcoded/a/a7/How_to_make_video.webm/How_to_make_video.webm.360p.webm"
    autoplay playsinline webkit-playsinline loop muted controls></video>


<video preload="metadata" id="video" class="video" type="video/mp4"
    src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" autoplay playsinline
    webkit-playsinline loop muted controls></video>


<script>
    // https://stackoverflow.com/questions/55953639/the-mediaelement-play-method-returns-a-promise-that-is-rejected
    const video = document.querySelector('video');
    video.addEventListener('durationchange', () => {
        this.currentTime = 10;
    }, false);
    let cta = document.querySelector('#cta');

    (function () {
        playMedia();
    })();
    async function playMedia() {
        try {
            await video.play();
        } catch (err) { }
    }

    cta.addEventListener('click', function () {
        video.play();
    });
    window.addEventListener("unhandledrejection", (event) => {
        console.log(event.reason);
    });
</script>

<style>
    video {
        width: 500px
    }

    @media (-webkit-video-playable-inline) {}
</style>